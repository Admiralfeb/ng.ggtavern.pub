# Node.js with Angular
# Build a Node.js project that uses Angular.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

stages:
- stage: install
  displayName: Project Install
  jobs:
   - job:
     displayName: Install
     pool: Default
     container: admiralfeb/dev:angular
     steps:
       - task: Npm@1
         inputs:
           command: 'install'
       - task: PublishPipelineArtifact@1
         inputs:
           targetPath: 'node_modules'
           artifact: 'node_modules'
- stage: build
  displayName: Project Build
  jobs:
   - job:
     steps:
       - script: 'npm build'
         displayName: Build
       - task: PublishBuildArtifacts@1
         inputs:
           PathtoPublish: 'dist'
           ArtifactName: 'dist'
           publishLocation: 'Container'

